---
import CollectionLayout from "@components/destinations/DestinationsCollectionLayout.astro";
import { getIndex, getGroups } from "@lib/contentParser";
import type { DestinationsEntry } from "@/types";
import { sortByTitle } from "@lib/sortFunctions";

const collectionIndex = (await getIndex("destinations")) as DestinationsEntry;
const groupIndices = (await getGroups("destinations", sortByTitle)) as DestinationsEntry[];

console.log("groupIndices", groupIndices);
console.log("collectionIndex", collectionIndex);
---
<CollectionLayout entries={groupIndices} collectionIndex={collectionIndex} />

<style>
  html::before {
    background-image: url(/src/assets/backgrounds/background_logo_green.png);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
</style>
